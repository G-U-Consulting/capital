<div class="pure-g">
    <!--<div class="pure-u-1-1 pure-u-md-1-5 lateralMenu">
        <div style="font-size: 0.8rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 0.75rem;">
            {{ ruta }}
        </div>
        <div v-on:click="setMainMode(1)" class="lateralMenuItem noSelect" v-bind:class="{'lateralMenuItemSelected': mainmode == 1}">
            <img src="./img/ico/svg/briefcase.svg" />
            Roles
        </div>
    </div>-->
    <div class="pure-u-1-1 pure-u-md-1-1">
        <div v-if="mainmode == 1">
            <div class="pure-u-1-24"></div>
            <div class="pure-u-22-24">
                <div style="font-size: 0.8rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                    <!--<span style="color: #89888d" class="hoverLink" v-on:click="mainmode = 0">Accesos  /</span>-->
                    <span class="hoverLink" v-on:click="mode = 0">Roles</span>
                    <span v-if="mode == 1">  /  Nuevo Rol</span>
                    <span v-if="mode == 2">  /  Editar Rol</span>
                </div>
            </div>
            <!--LISTA DE ROLES-->
            <div v-if="mode == 0" style="padding-top: 1em">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Roles</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-18-24">
                                <input type="text" placeholder="Rol" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24">
                                <div class="imgGraybutton">
                                    <img src="./img/ico/svg/search.svg" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-5-24">
                                <button v-on:click="startNewRole()" style="width:100%">Nuevo Rol</button>
                            </div>
                        </div>
                    </div>
                    <div style="height: 63vh; overflow-y: auto;">
                        <table class="dataTable">
                            <thead>
                                <tr>
                                    <th>Rol</th>
                                    <th>Descripción</th>
                                    <th>Sede</th>
                                    <th>Usuarios</th>
                                    <th>Fecha de Creación</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="item in roles" v-on:click="selectRole(item)">
                                    <td style="width: 15rem;">{{item.rol}}</td>
                                    <td>{{item.descripcion}}</td>
                                    <td style="text-align: center; width: 5rem;">{{item.sede}}</td>
                                    <td style="text-align: center; width: 5rem;">{{item.cuenta}}</td>
                                    <td style="text-align:center; width: 10rem;">{{item.created_on}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <!--<div class="pure-u-2-3" style="margin: auto; font-size: 0.8em">
                    <b>{{item.rol}}</b> / {{item.descripcion}}
                </div>
                <div class="pure-u-1-3" style="text-align: right;">
                    <div style="display: inline-block;font-size: 0.7em; padding: 0.5em">
                        {{item.cuenta}}
                        <img src="./img/ico/svg/user.svg" />
                    </div>
                    <div style="display: inline-block;font-size: 0.7em; background-color: rgb(244, 244, 244); border-radius: 0.5em; padding: 0.5em">
                        {{item.created_on}}
                    </div>
                </div>-->
                        

                    </div>
                    

                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <!--NEUVO ROL-->
            <div v-if="mode == 1" style="padding-top: 2em">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Nuevo Rol</h2>
                    <br />
                    <div class="pure-g">
                        <div class="pure-u-1-1 pure-u-md-3-1" style="margin-top: 1rem">
                            <div>
                                <div class="pure-g">
                                    <div class="pure-u-1-1 pure-u-md-11-24" style="padding: 0rem 0.5rem;">
                                        <div style="text-align:center; font-size: 1em">Nombre del rol</div>
                                        <div>
                                            <input type="text" v-model="newRole.rol" maxlength="1000" />
                                        </div>
                                        <div style="text-align:center; font-size: 1em">Sede</div>
                                        <div style="text-align:center">
                                            <label v-for="item in sedes" style="margin:0.5rem;"><input type="checkbox" v-model="item.checked"/>{{item.sede}}</label> 
                                        </div>
                                    </div>
                                    <div class="pure-u-1-1 pure-u-md-2-24" style="padding: 0rem 0.5rem;">

                                    </div>
                                    <div class="pure-u-1-1 pure-u-md-11-24" style="padding: 0rem 0.5rem;">
                                        <div style="text-align:center; font-size: 1em">Descripción</div>
                                        <div>
                                            <textarea v-model="newRole.descripcion" maxlength="1000" style="height: 4rem;"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-2-1" style="margin-top: 1rem">
                            <div>
                                <div class="pure-g">
                                    <div class="pure-u-1-1 pure-u-md-11-24" style="padding: 0rem 0.5rem">
                                        <div style="text-align:center; font-size: 1em">Accesos Disponibles</div>
                                        <div style="padding: 0.5rem; border: 1px solid #898989; border-radius: 0.5rem; height: calc(100vh - 27rem); overflow: auto;">
                                            <div v-for="zone in accessList">
                                                <div>
                                                    <div style="cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.zone == zone}" v-on:click="selectAccess(null, null, zone)">
                                                        <span v-show="!zone.expanded" v-on:click="zone.expanded = !zone.expanded">&boxplus;</span>
                                                        <span v-show="zone.expanded" v-on:click="zone.expanded = !zone.expanded">&boxminus;</span>
                                                        <span>{{zone.name}}</span>
                                                    </div>
                                                    <div v-for="group in zone.groups">
                                                        <div style="padding-left: 1rem; cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.group == group}" v-on:click="selectAccess( null, group, zone)">
                                                            <span v-show="!group.expanded" v-on:click="group.expanded = !group.expanded">&boxplus;</span>
                                                            <span v-show="group.expanded" v-on:click="group.expanded = !group.expanded">&boxminus;</span>
                                                            <span>{{group.name}}</span>

                                                        </div>
                                                        <div v-for="item in group.list" class="noSelect" v-show="group.expanded && !item.selected">
                                                            <div style="padding-left: 2rem; cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.item == item}" v-on:click="selectAccess(item, group, zone)">{{item.permiso}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="pure-u-1-1 pure-u-md-2-24">
                                        <div style="text-align: center;">
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <button v-show="selectedAccess != null"
                                                    style="width: 2em; min-width: 0;"
                                                    @click="asignAccess()">
                                                {{ getArrowDirection }}
                                            </button>
                                        </div>
                                    </div>
                                    <div class="pure-u-1-1 pure-u-md-11-24" style="padding: 0rem 0.5rem">
                                        <div style="text-align:center; font-size: 1em">Accesos Asignados</div>
                                        <div style="padding: 0.5rem; border: 1px solid #898989; border-radius: 0.5rem; height: calc(100vh - 27rem); overflow: auto;">
                                            <div v-for="zone in accessList" v-show="zone.selectedItems > 0">
                                                <div>
                                                    <div style="cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.zone == zone}" v-on:click="selectAccess(null, null, zone)">
                                                        <span v-show="!zone.expanded" v-on:click="zone.expanded = !zone.expanded">&boxplus;</span>
                                                        <span v-show="zone.expanded" v-on:click="zone.expanded = !zone.expanded">&boxminus;</span>
                                                        <span>{{zone.name}}</span>
                                                    </div>
                                                    <div v-show="zone.expanded && group.selectedItems > 0" v-for="group in zone.groups">
                                                        <div style="padding-left: 1rem; cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.group == group}" v-on:click="selectAccess(null, group, zone)">
                                                            <span v-show="!group.expanded" v-on:click="group.expanded = !group.expanded">&boxplus;</span>
                                                            <span v-show="group.expanded" v-on:click="group.expanded = !group.expanded">&boxminus;</span>
                                                            <span>{{group.name}}</span>
                                                        </div>
                                                        <div v-for="item in group.list" class="noSelect" v-show="group.expanded && item.selected">
                                                            <div style="padding-left: 2rem; cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.item == item}" v-on:click="selectAccess(item, group, zone)">{{item.permiso}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="text-align:right;" class="pure-u-1-1 pure-u-md-1-1">
                            <div>
                                <div class="pure-g">
                                    <div class="pure-u-1-1 pure-u-md-24-24" style="padding: 1rem 0.5rem 0 0">
                                        <button v-on:click="insNewRole()">Guardar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <!--EDITAR ROL-->
            <div v-if="mode == 2" style="padding-top: 2em">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Edición de Rol</h2>
                    <br />
                    <div class="pure-g">
                        <div class="pure-u-1-1 pure-u-md-3-1" style="margin-top: 1rem">
                            <div>
                                <div class="pure-g">
                                    <div class="pure-u-1-1 pure-u-md-11-24 formInput" style="padding: 0rem 0.5rem;">
                                        <div style="text-align:center; font-size: 1em">Nombre del rol</div>
                                        <textarea type="text" v-model="editRole.rol" placeholder="Nombre" maxlength="1000" style="height: 4rem;"></textarea>
                                    </div>
                                    <div class="pure-u-1-1 pure-u-md-2-24" style="padding: 0rem 0.5rem;">

                                    </div>
                                    <div class="formInput  pure-u-1-1 pure-u-md-11-24" style="padding: 0rem 0.5rem;">
                                        <div style="text-align:center; font-size: 1em">Descripción</div>
                                        <textarea v-model="editRole.descripcion" placeholder="Descripción" maxlength="1000" style="height: 4rem;"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-2-1" style="margin-top: 1rem">
                            <div>
                                <div class="pure-g">
                                    <div class="pure-u-1-1 pure-u-md-11-24" style="padding: 0rem 0.5rem">
                                        <div style="text-align:center; font-size: 1em">Accesos Disponibles</div>
                                        <div style="padding: 0.5rem; border: 1px solid #898989; border-radius: 0.5rem; height: calc(100vh - 27rem); overflow: auto;">
                                            <div v-for="zone in accessList">
                                                <div>
                                                    <div style="cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.zone == zone}" v-on:click="selectAccess(null, null, zone)">
                                                        <span v-show="!zone.expanded" v-on:click="zone.expanded = !zone.expanded">&boxplus;</span>
                                                        <span v-show="zone.expanded" v-on:click="zone.expanded = !zone.expanded">&boxminus;</span>
                                                        <span>{{zone.name}}</span>
                                                    </div>
                                                    <div v-for="group in zone.groups">
                                                        <div style="padding-left: 1rem; cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.group == group}" v-on:click="selectAccess( null, group, zone)">
                                                            <span v-show="!group.expanded" v-on:click="group.expanded = !group.expanded">&boxplus;</span>
                                                            <span v-show="group.expanded" v-on:click="group.expanded = !group.expanded">&boxminus;</span>
                                                            <span>{{group.name}}</span>

                                                        </div>
                                                        <div v-for="item in group.list" class="noSelect" v-show="group.expanded && !item.selected">
                                                            <div style="padding-left: 2rem; cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.item == item}" v-on:click="selectAccess(item, group, zone)">{{item.permiso}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="pure-u-1-1 pure-u-md-2-24">
                                        <div style="text-align: center;">
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <button v-show="selectedAccess != null"
                                                    style="width: 2em; min-width: 0;"
                                                    @click="asignAccess()">
                                                {{ getArrowDirection }}
                                            </button>
                                        </div>
                                    </div>
                                    <div class="pure-u-1-1 pure-u-md-11-24" style="padding: 0rem 0.5rem">
                                        <div style="text-align:center; font-size: 1em">Accesos Asignados</div>
                                        <div style="padding: 0.5rem; border: 1px solid #898989; border-radius: 0.5rem; height: calc(100vh - 27rem); overflow: auto;">
                                            <div v-for="zone in accessList" v-show="zone.selectedItems > 0">
                                                <div>
                                                    <div style="cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.zone == zone}" v-on:click="selectAccess(null, null, zone)">
                                                        <span v-show="!zone.expanded" v-on:click="zone.expanded = !zone.expanded">&boxplus;</span>
                                                        <span v-show="zone.expanded" v-on:click="zone.expanded = !zone.expanded">&boxminus;</span>
                                                        <span>{{zone.name}}</span>
                                                    </div>
                                                    <div v-show="zone.expanded && group.selectedItems > 0" v-for="group in zone.groups">
                                                        <div style="padding-left: 1rem; cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.group == group}" v-on:click="selectAccess(null, group, zone)">
                                                            <span v-show="!group.expanded" v-on:click="group.expanded = !group.expanded">&boxplus;</span>
                                                            <span v-show="group.expanded" v-on:click="group.expanded = !group.expanded">&boxminus;</span>
                                                            <span>{{group.name}}</span>
                                                        </div>
                                                        <div v-for="item in group.list" class="noSelect" v-show="group.expanded && item.selected">
                                                            <div style="padding-left: 2rem; cursor: pointer" v-bind:class="{selectedAcces: selectedAccess!= null && selectedAccess.item == item}" v-on:click="selectAccess(item, group, zone)">{{item.permiso}}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="text-align:right;" class="pure-u-1-1 pure-u-md-1-1">
                            <div>
                                <div class="pure-g">
                                    <div class="pure-u-1-1 pure-u-md-24-24" style="padding: 1rem 0.5rem 0 0">
                                        <button v-on:click="updateRole()">Actualizar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
        </div>
    </div>
</div>
