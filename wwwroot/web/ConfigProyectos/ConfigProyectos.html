<div class="pure-g maestros">
    <div class="pure-u-1-1 pure-u-md-1-5 lateralMenu">
        <div class="lateralMenuHeader">
        </div>

        <div class="lateralMenuGroup">
            <div class="lateralMenuItem noSelect group" style="padding-left: 8px; cursor: auto;">
                Listados Maestros
            </div>
        </div>

        <div class="lateralMenuGroup">
            <div v-on:click="setMainMode(1);loadImg();" class="lateralMenuItem noSelect group">
                Imágenes C.Capital
            </div>
            <div v-on:click="setMainMode(1);loadImg();" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 1}">
                <img src="./img/ico/svg/Maestro/Generales.svg" />
                Generales Capital
                <span class="tooltip-text">Imágenes generales capital</span>
            </div>
            <div v-on:click="setMainMode(2);loadImg();" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 2}">
                <img src="./img/ico/svg/Maestro/Sostenibilidad.svg" />
                Sostenibilidad
                <span class="tooltip-text">Imágenes sostenibilidad</span>
            </div>
        </div>

        <div class="lateralMenuGroup">
            <div v-on:click="setMainMode(4)" class="lateralMenuItem noSelect group">
                Medios de Comunicación
            </div>
            <div v-on:click="setMainMode(4)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 4}">
                <img src="./img/ico/svg/Maestro/Categorias.svg" />
                Categorías
                <span class="tooltip-text">Categorías medios</span>
            </div>
            <div v-on:click="setMainMode(5)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 5}">
                <img src="./img/ico/svg/Maestro/Medios.svg" />
                Medios
                <span class="tooltip-text">Medios publicitarios</span>
            </div>
        </div>

        <div class="lateralMenuGroup">
            <div v-on:click="setMainMode(6)" class="lateralMenuItem noSelect group">
                Financiación
            </div>
            <div v-on:click="setMainMode(6)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 6}">
                <img src="./img/ico/svg/Maestro/Bancos.svg" />
                Bancos
                <span class="tooltip-text">Bancos</span>
            </div>
            <div v-on:click="setMainMode(23)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 23}">
                <img src="./img/ico/svg/Maestro/CajaCompensacion.svg" />
                Cajas de Compensación
                <span class="tooltip-text">Cajas de Compensación</span>
            </div>
            <div v-on:click="setMainMode(7)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 7}">
                <img src="./img/ico/svg/Maestro/Fiduciaria.svg" />
                Fiduciarias
                <span class="tooltip-text">Fiduciarias</span>
            </div>
            <div v-on:click="setMainMode(14)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 14}">
                <img src="./img/ico/svg/Maestro/Subsidios.svg" />
                Subsidios VIS
                <span class="tooltip-text">Subsidios VIS</span>
            </div>
            <div v-on:click="setMainMode(15)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 15}">
                <img src="./img/ico/svg/Maestro/Tipos.svg" />
                Tipos
                <span class="tooltip-text">Tipos de Financiación</span>
            </div>
        </div>

        <div class="lateralMenuGroup">
            <div v-on:click="setMainMode(22)" class="lateralMenuItem noSelect group">
                Agrupación de Proyectos
            </div>
            <div v-on:click="setMainMode(22)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 22}">
                <img src="./img/ico/svg/Maestro/Sede.svg" />
                Sedes
                <span class="tooltip-text">Sedes</span>
            </div>
            <div v-on:click="setMainMode(8)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 8}">
                <img src="./img/ico/svg/Maestro/Zona.svg" />
                Zonas Proyectos
                <span class="tooltip-text">Zonas agrupamiento proyectos</span>
            </div>
            <div v-on:click="setMainMode(9)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 9}">
                <img src="./img/ico/svg/Maestro/Ciudadela.svg" />
                Ciudadelas
                <span class="tooltip-text">Ciudadelas</span>
            </div>
        </div>

        <div class="lateralMenuGroup">
            <div v-on:click="setMainMode(16)" class="lateralMenuItem noSelect group">
                Proyectos
            </div>
            <div v-on:click="setMainMode(16)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 16}">
                <img src="./img/ico/svg/Maestro/Tipos.svg" />
                Clase Unidades
                <span class="tooltip-text">Clase Unidades</span>
            </div>
            <div v-on:click="setMainMode(17)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 17}">
                <img src="./img/ico/svg/Maestro/Estados.svg" />
                Estados Publica.
                <span class="tooltip-text">Estados de Publicación</span>
            </div>
            <div v-on:click="setMainMode(18)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 18}">
                <img src="./img/ico/svg/Maestro/Tipologias.svg" />
                Tipologías
                <span class="tooltip-text">Tipologías de Proyecto</span>
            </div>
            <!-- <div v-on:click="setMainMode(19)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 19}">
                <img src="./img/ico/svg/Maestro/Email.svg" />
                Emails receptores
                <span class="tooltip-text">Emails receptores</span>
            </div> -->
            <div v-on:click="setMainMode(3)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 3}">
                <img src="./img/ico/svg/Maestro/GruposImagenes.svg" />
                Grupos de img
                <span class="tooltip-text">Agrupamiento de imágenes</span>
            </div>
            <div v-on:click="setMainMode(21)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 21}">
                <img src="./img/ico/svg/Maestro/Gamas.svg" />
                Estados Unidades
                <span class="tooltip-text">Estados de Unidades y Colores</span>
            </div>
        </div>

        <div class="lateralMenuGroup">
            <div v-on:click="setMainMode(24)" class="lateralMenuItem noSelect group">
                Clientes
            </div>
            <div v-on:click="setMainMode(24)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 24}">
                <img src="./img/ico/svg/Maestro/TiposTramites.svg" />
                Tipos de Trámites
                <span class="tooltip-text">Tipos de Trámites</span>
            </div>
            <div v-on:click="setMainMode(25)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 25}">
                <img src="./img/ico/svg/Maestro/ClientesRegistro.svg" />
                Tipos de Registro
                <span class="tooltip-text">Tipos de Registro</span>
            </div>
        </div>

        <div class="lateralMenuGroup">
            <div v-on:click="setMainMode(10)" class="lateralMenuItem noSelect group">
                Documentos
            </div>
            <div v-on:click="setMainMode(10)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 10}">
                <img src="./img/ico/svg/Maestro/Instructivos.svg" />
                Instructivos
                <span class="tooltip-text">Instructivos consignación y cierre</span>
            </div>
            <div v-on:click="setMainMode(11)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 11}">
                <img src="./img/ico/svg/Maestro/PiesLegales.svg" />
                Pies Legales
                <span class="tooltip-text">Pies legales cotizaciones</span>
            </div>
            <div v-on:click="setMainMode(12)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 12}">
                <img src="./img/ico/svg/Maestro/Tramites.svg" />
                Trámites
                <span class="tooltip-text">Trámites</span>
            </div>
            <div v-on:click="setMainMode(13)" class="lateralMenuItem noSelect tooltip"
                v-bind:class="{'lateralMenuItemSelected': mainmode == 13}">
                <img src="./img/ico/svg/Maestro/Otros.svg" />
                Otros
                <span class="tooltip-text">Otros Documentos</span>
            </div>
        </div>

        <div class="lateralMenuGroup">
        </div>
    </div>

    <div class="pure-u-1-1 pure-u-md-4-5">

        <div v-if="mainmode == 0" class="contentHeight" style="display: block; background-image: url('./img/background/floor-plan-1857175_1280.jpg'); 
            background-attachment: fixed; background-repeat: no-repeat; background-size: cover;">
        </div>

        <!-- Imágenes Generales Capital y Sostenibilidad -->
        <div v-if="mainmode == 1 || mainmode == 2">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">{{mode = 2}}</div>

            <div v-if="mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class='pure-u-1-1 pure-u-md-1-1 formDivision' style="font-size: 1.5em; margin-bottom:4px">
                    Imágenes {{mainmode == 1 ? 'Generales Capital' : 'Sostenibilidad'}}
                </div>
                <div class='pure-u-1-1 pure-u-md-1-24 positTex'>
                    <img class="pure-img logoExcel" src="../../img/ico/svg/delete.svg" @click="clearAllImages" alt="">
                </div>
                <div class="pure-u-1" @mousemove="updateCursor" @mouseleave="tooltipVisible = false"
                    style="position: relative;padding-top: 1em;">
                    <label for="file-input" class="preview-container"
                        style="height: calc(100vh - 17rem); cursor: pointer; max-height: 100%;"
                        @dragover.prevent="handleDragOver" @drop.prevent="handleDrop"
                        @mouseenter="tooltipVisible = true" @mouseleave="tooltipVisible = false">

                        <div class="image-card" v-for="(item, index) in previews" :key="index" draggable="true"
                            @dragstart="dragStart(index)" @mouseenter="tooltipVisible = false"
                            @mouseleave="tooltipVisible = true" style="position: relative;">
                            <img :src="item.src" @click.stop.prevent="expandImagenes(item)"
                                @mouseenter="tooltipVisible = true; tooltipMsg = item.file.name"
                                @mouseleave="tooltipVisible = false; tooltipMsg = 'Arrastra o haz clic para cargar archivos.'" />
                            <div class="image-name-overlay">{{ item.file.name }}</div>
                            <div class="download-btn">
                                <a :href="getURLFile(item.file)" :download="item.file.name">
                                    <img src="../../img/ico/download.jpg">
                                </a>
                            </div>
                            <div class="delete-btn" @click.stop.prevent="removeImage(index)">✖</div>
                        </div>
                        <div v-if="tooltipVisible" class="cursor-tooltip"
                            :style="{ top: tooltipY + 'px', left: tooltipX + 'px' }">
                            {{tooltipMsg}}
                        </div>
                    </label>
                    <input type="file" id="file-input" class="hidden-input" style="display: none;" multiple
                        accept="image/*" @change="handleFileChange" ref="fileInput" />
                </div>
                <div v-if="expandedVisible" class="image-modal" @click="closeExpanded">
                    <img :src="expandedImage" class="expanded-img" />
                </div>
                <div class='pure-u-1-1 pure-u-md-2-5'></div>
                <div class='pure-u-1-1 pure-u-md-1-5 positTex'>
                    <button v-on:click="onUpdateImg()" style="margin-top: .8rem;">Guardar</button>
                </div>
            </div>
        </div>

        <!-- Agrupamiento de Imágenes -->
        <div v-if="mainmode == 3">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Agrupamiento de Imágenes</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.gruposImg['grupo']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('gruposImg')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.gruposImg['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('gruposImg')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nuevo Grupo</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="gruposImg && gruposImg.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(gruposImg[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="gru in getFilteredList('gruposImg')" @dblclick="onSelect(gru)">
                                    <td
                                        v-for="key in Object.keys(gru).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{gru[key]}}
                                    </td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(gru)">
                                            <input :id="'toggle' + gru.grupo" type="checkbox" class="toggle-input"
                                                :checked="Number(gru.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + gru.grupo"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(gru)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nuevo' : 'Editar'}} Grupo de Imágenes</h2>
                    <div class="pure-g main-content">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-2">
                            <span>Nombre</span>
                            <input type="text" v-model="grupoImg.grupo" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <span>Orden</span>
                            <input type="number" v-model="grupoImg.orden" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <div style="display: block; margin-bottom: 0.3rem; height: 1.3rem;"></div>
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Categorías de Medios -->
        <div v-if="mainmode == 4">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Categorías de Medios</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.categoriasMedios['categoria']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('categoriasMedios')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.categoriasMedios['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('categoriasMedios')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nueva Categoria</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;"
                            v-if="categoriasMedios && categoriasMedios.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(categoriasMedios[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="cat in getFilteredList('categoriasMedios')"
                                    @dblclick.stop.prevent="onSelect(cat)">
                                    <td
                                        v-for="key in Object.keys(cat).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{cat[key]}}
                                    </td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(cat)">
                                            <input :id="'toggle' + cat.categoria" type="checkbox" class="toggle-input"
                                                :checked="Number(cat.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + cat.categoria"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(cat)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nueva' : 'Editar'}} Categoria</h2>
                    <div class="pure-g main-content" style="margin-top: 1em; margin-bottom: 3em;">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-16-24">
                            <input type="text" v-model="categoriaMedio.categoria" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Medios Publicitarios -->
        <div v-if="mainmode == 5">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Medios Publicitarios</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <input type="text" placeholder="Nombre" v-model="filtros.mediosPublicitarios['medio']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('mediosPublicitarios')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-6">
                                <select v-model="filtros.mediosPublicitarios['id_categoria']" class="pure-input-1">
                                    <option value="">[Todas las categorias]</option>
                                    <option v-for="item in categoriasMedios" :value="item.id_categoria">
                                        {{item.categoria}}</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.mediosPublicitarios['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('mediosPublicitarios')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>

                            <div class="pure-u-1-1 pure-u-md-1-5">
                                <button v-on:click="setMode(1)">Nuevo Medio</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;"
                            v-if="mediosPublicitarios && mediosPublicitarios.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(mediosPublicitarios[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="med in getFilteredList('mediosPublicitarios')" @dblclick="onSelect(med)">
                                    <td
                                        v-for="key in Object.keys(med).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{med[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(med)">
                                            <input :id="'toggle' + med.medio" type="checkbox" class="toggle-input"
                                                :checked="Number(med.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + med.medio"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(med)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nuevo' : 'Editar'}} Medio</h2>
                    <div class="pure-g main-content">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-2">
                            <span>Nombre</span>
                            <input type="text" v-model="medioPublicitario.medio" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-3">
                            <span>Categoria</span>
                            <select v-model='medioPublicitario.id_categoria'>
                                <option value='' disabled selected>Seleccione</option>
                                <option
                                    v-for="cat in categoriasMedios.sort((a, b) => parseInt(b.is_active) - parseInt(a.is_active))"
                                    :value='cat.id_categoria' :disabled="cat.is_active != '1'">
                                    {{ cat.categoria }}
                                </option>
                            </select>
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-3">
                            <span>ID en Sinco</span>
                            <input type="text" v-model="medioPublicitario.id_sinco" maxlength="50" />
                        </div>
                        <div class='formInputStandard pure-u-1-2 pure-u-md-1-5'>
                            <label class="check" for="medioIsActive" style="margin-top: 1.8rem;">
                                <input type='checkbox' value='0' v-model='medioIsActive' id='medioIsActive' />
                                <span class="checkmark"></span>
                                Activo
                            </label>
                        </div>
                    </div>
                    <div class="pure-g">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-1">
                            <div style="display: block; height: 1.3rem; text-align: center;">
                                <button v-on:click="onSave()">Guardar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bancos -->
        <div v-if="mainmode == 6">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Bancos</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.bancos['banco']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('bancos')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.bancos['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcelBanco('bancos')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nuevo Banco</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="bancos && bancos.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(bancos[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th v-for="fact in new Set(factores.map(f => f.factor))">{{fact}}</th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="banco in getFilteredList('bancos')" @dblclick="onSelectBanco(banco)">
                                    <td
                                        v-for="key in Object.keys(banco).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{banco[key]}}</td>
                                    <td v-for="fact in new Set(factores.map(f => f.factor))"
                                        style="text-align: center;">
                                        {{has_factor(banco.id_banco, fact) || "❌"}}
                                    </td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(banco)">
                                            <input :id="'toggle' + banco.banco" type="checkbox" class="toggle-input"
                                                :checked="Number(banco.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + banco.banco"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(banco)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div :class="'pure-u-1-24 ' + (mode == 1 ? 'pure-u-md-1-24' : 'pure-u-md-1-24')"></div>
                <div :class="'pure-u-22-24 ' + (mode == 1 ? 'pure-u-md-22-24' : 'pure-u-md-22-24') + ' menuCard'">
                    <h2>{{mode == 1 ? 'Nuevo' : 'Editar'}} Banco</h2>
                    <div class="pure-g main-content" style="height: calc(100vh - 12.9rem);">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-16-24" v-if="mode == 1">
                            <input type="text" v-model="banco.banco" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-2" style="padding-left: 0"
                            v-if="mode == 2">
                            <input type="text" v-model="banco.banco" maxlength="50" />
                        </div>
                        <div v-if="mode == 1" class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <button v-on:click="onSaveBanco()">Guardar</button>
                        </div>
                        <div v-if="mode == 2" class="pure-g" style="width: 100%;">
                            <div class="pure-u-1-1 pure-u-md-1-1">
                                <div style="max-height: calc(100vh - 18.5rem); overflow-y: auto;">
                                    <div v-for="unidad in new Set(factores.map(f => f.unidad))">
                                        <h3>Valores en {{unidad}}</h3>
                                        <table class="dataTable" style="table-layout: auto;">
                                            <thead>
                                                <tr>
                                                    <th>
                                                        <span>Fact./ millón</span>
                                                    </th>
                                                    <th v-for="factor in factores.filter(f => f.unidad == unidad)">
                                                        <span>{{factor.factor}}</span>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody style="font-size: 15px;">
                                                <tr v-for="tf in tipos_factor">
                                                    <td style="text-align: center; padding: 3px;">
                                                        <span>
                                                            {{tf.tipo_factor}}
                                                        </span>
                                                    </td>
                                                    <td style="padding: 0;"
                                                        v-for="factor in factores.filter(f => f.unidad == unidad)">
                                                        <input type="text" class="banco_factor"
                                                            :value="formatNumber(banco_factor[tf.id_tipo_factor][factor.id_factor].valor, false)"
                                                            @input="banco_factor[tf.id_tipo_factor][factor.id_factor].valor = cleanNumber($event.target.value)">
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div class='pure-u-1-1 pure-u-md-2-5'></div>
                                <div class='pure-u-1-1 pure-u-md-1-5'>
                                    <button v-on:click="onSaveBanco()" style="margin-top: .8rem;">Guardar</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- Fiduciarias -->
        <div v-if="mainmode == 7">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Fiduciarias</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.fiduciarias['fiduciaria']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('fiduciarias')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.fiduciarias['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('fiduciarias')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nueva Fiduciaria</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="fiduciarias && fiduciarias.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(fiduciarias[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="fid in getFilteredList('fiduciarias')" @dblclick="onSelect(fid)">
                                    <td
                                        v-for="key in Object.keys(fid).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{fid[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(fid)">
                                            <input :id="'toggle' + fid.fiduciaria" type="checkbox" class="toggle-input"
                                                :checked="Number(fid.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + fid.fiduciaria"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(fid)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nueva' : 'Editar'}} Fiduciaria</h2>
                    <div class="pure-g main-content">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-16-24">
                            <input type="text" v-model="fiduciaria.fiduciaria" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Zonas agrupamiento proyectos -->
        <div v-if="mainmode == 8">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Zonas agrupamiento proyectos</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <input type="text" placeholder="Nombre"
                                    v-model="filtros.zonasProyectos['zona_proyecto']" maxlength="200" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('zonasProyectos')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-6">
                                <select v-model="filtros.zonasProyectos['id_sede']" class="pure-input-1">
                                    <option value="">[Todas las sedes]</option>
                                    <option v-for="item in sedes" :value="item.id_sede">
                                        {{item.sede}}</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.zonasProyectos['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('zonasProyectos')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-5">
                                <button v-on:click="setMode(1)">Nueva Zona</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;"
                            v-if="zonasProyectos && zonasProyectos.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(zonasProyectos[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="zap in getFilteredList('zonasProyectos')" @dblclick="onSelect(zap)">
                                    <td
                                        v-for="key in Object.keys(zap).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{zap[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(zap)">
                                            <input :id="'toggle' + zap.zona_proyecto" type="checkbox"
                                                class="toggle-input" :checked="Number(zap.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + zap.zona_proyecto"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(zap)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nueva' : 'Editar'}} Zona</h2>
                    <div class="pure-g main-content">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-2">
                            <span>Nombre Zona</span>
                            <input type="text" v-model="zonaProyecto.zona_proyecto" maxlength="200" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-3">
                            <span>Sede</span>
                            <select v-model='zonaProyecto.id_sede'>
                                <option
                                    v-for="sed in sedes.sort((a, b) => parseInt(b.is_active) - parseInt(a.is_active))"
                                    :value='sed.id_sede' :disabled="sed.is_active != '1'">
                                    {{ sed.sede }}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="formInputStandard pure-u-1-2 pure-u-md-1-1" style="text-align: center;">
                        <button v-on:click="onSave()">Guardar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ciudadelas -->
        <div v-if="mainmode == 9">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Ciudadelas</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <input type="text" placeholder="Nombre" v-model="filtros.ciudadelas['ciudadela']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24">
                                <div class="imgGraybutton" @click="onClear('ciudadelas')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-6">
                                <select v-model="filtros.ciudadelas['id_sede']" class="pure-input-1"
                                    @change="filtros.ciudadelas['id_zona_proyecto'] = '';">
                                    <option value="">[Todas las sedes]</option>
                                    <option v-for="item in sedes" :value="item.id_sede">
                                        {{item.sede}}</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-6" style="padding: 0 5px;">
                                <select v-model="filtros.ciudadelas['id_zona_proyecto']" class="pure-input-1">
                                    <option value="">[Todas las zonas]</option>
                                    <option :value="item.id_zona_proyecto"
                                        v-for="item in zonasProyectos
                                        .filter(z => !filtros.ciudadelas['id_sede'] || z.id_sede == filtros.ciudadelas['id_sede'])">
                                        {{item.zona_proyecto}}</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.ciudadelas['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-2 pure-u-md-1-12" style="text-align: center;">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('ciudadelas')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-6">
                                <button v-on:click="setMode(1)">Nueva Ciudadela</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="ciudadelas && ciudadelas.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(ciudadelas[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="ciu in getFilteredList('ciudadelas')" @dblclick="onSelect(ciu)">
                                    <td
                                        v-for="key in Object.keys(ciu).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{ciu[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(ciu)">
                                            <input :id="'toggle' + ciu.ciudadela" type="checkbox" class="toggle-input"
                                                :checked="Number(ciu.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + ciu.ciudadela"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(ciu)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nueva' : 'Editar'}} Ciudadela</h2>
                    <div class="pure-g main-content">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-3-4">
                            <span>Nombre Ciudadela</span>
                            <input type="text" v-model="ciudadela.ciudadela" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-2">
                            <span>Sede</span>
                            <select v-model='ciudadela.id_sede' @change="delete ciudadela.id_zona_proyecto">
                                <option
                                    v-for="sed in sedes.sort((a, b) => parseInt(b.is_active) - parseInt(a.is_active))"
                                    :value='sed.id_sede' :disabled="sed.is_active != '1'">
                                    {{ sed.sede }}
                                </option>
                            </select>
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-2">
                            <span>Zona</span>
                            <select v-model='ciudadela.id_zona_proyecto'>
                                <option
                                    v-for="zon in zonasProyectos.filter(z => z.id_sede == ciudadela.id_sede).sort((a, b) => parseInt(b.is_active) - parseInt(a.is_active))"
                                    :value='zon.id_zona_proyecto' :disabled="zon.is_active != '1'">
                                    {{ zon.zona_proyecto }}
                                </option>
                            </select>
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-2-5"></div>
                    </div>
                    <div class="formInputStandard pure-u-1-2 pure-u-md-1-1" style="text-align: center;">
                        <button v-on:click="onSave()">Guardar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Instructivos Consignación y cierre -->
        <div v-if="mainmode == 10">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Instructivos Consignación y cierre</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.instructivos['instructivo']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('instructivos')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.instructivos['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('instructivos')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nuevo Instructivo</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="instructivos && instructivos.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(instructivos[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_')  && k != 'procedimiento' && k != 'documentacion_cierre' && k != 'notas')">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="ins in getFilteredList('instructivos')" @dblclick="onSelect(ins)">
                                    <td
                                        v-for="key in Object.keys(ins).filter(k => !k.startsWith('id_') && !k.startsWith('is_')  && k != 'procedimiento' && k != 'documentacion_cierre' && k != 'notas')">
                                        {{ins[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(ins)">
                                            <input :id="'toggle' + ins.instructivo" type="checkbox" class="toggle-input"
                                                :checked="Number(ins.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + ins.instructivo"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(ins)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-1 menuCard">
                    <h2>{{mode == 1 ? 'Nuevo' : 'Editar'}} Instructivo</h2>
                    <div class="pure-g">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-3">
                            <input type="text" v-model="instructivo.instructivo" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5"></div>
                    </div>
                    <div class="pure-g tab-container">
                        <div class="tab pure-u-1-3 pure-u-md-1-3" @click="insEditor = 1"
                            v-bind:class="{'tab-selected': insEditor == 1}">
                            Procedimiento
                        </div>
                        <div class="tab pure-u-1-3 pure-u-md-1-3" @click="insEditor = 2"
                            v-bind:class="{'tab-selected': insEditor == 2}">
                            Documentación Cierre
                        </div>
                        <div class="tab pure-u-1-3 pure-u-md-1-3" @click="insEditor = 3"
                            v-bind:class="{'tab-selected': insEditor == 3}">
                            Recomendaciones
                        </div>
                    </div>
                    <div class="pure-g" style="margin-bottom: .5rem;">
                        <div class="pure-u-1-1 pure-u-md-1-1 editor-container"
                            v-bind:class="{'hide-editor': insEditor != 1}">
                            <div id="editor-pro"></div>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-1 editor-container"
                            v-bind:class="{'hide-editor': insEditor != 2}">
                            <div id="editor-cie"></div>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-1 editor-container"
                            v-bind:class="{'hide-editor': insEditor != 3}">
                            <div id="editor-not"></div>
                        </div>
                    </div>
                    <div class="pure-g">
                        <div class="pure-u-md-2-5"></div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5" style="padding-bottom: 0;">
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pies Legales Cotizaciones -->
        <div v-if="mainmode == 11">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Pies Legales Cotizaciones</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.pies_legales['pie_legal']" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('pies_legales')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.pies_legales['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('pies_legales')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nuevo Pie Legal</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="pies_legales && pies_legales.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(pies_legales[0]).filter(k => k != 'texto' && k != 'notas_extra' && !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="pie in getFilteredList('pies_legales')" @dblclick="onSelect(pie)">
                                    <td
                                        v-for="key in Object.keys(pie).filter(k => k != 'texto' && k != 'notas_extra' && !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{pie[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(pie)">
                                            <input :id="'toggle' + pie.pie_legal" type="checkbox" class="toggle-input"
                                                :checked="Number(pie.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + pie.pie_legal"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(pie)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-1 menuCard">
                    <h2>{{mode == 1 ? 'Nuevo' : 'Editar'}} Pie Legal</h2>
                    <div class="pure-g">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-3">
                            <input type="text" v-model="pie_legal.pie_legal" maxlength="50" />
                        </div>
                    </div>
                    <div class="pure-g tab-container">
                        <div class="tab pure-u-1-2 pure-u-md-1-2" @click="pieEditor = 1"
                            v-bind:class="{'tab-selected': pieEditor == 1}">
                            Pie legal
                        </div>
                        <div class="tab pure-u-1-2 pure-u-md-1-2" @click="pieEditor = 2"
                            v-bind:class="{'tab-selected': pieEditor == 2}">
                            Notas Extra
                        </div>
                    </div>
                    <div class="pure-g" style="margin-bottom: .5rem;">
                        <div class="pure-u-1-1 pure-u-md-1-1 editor-container"
                            v-bind:class="{'hide-editor': pieEditor != 1}">
                            <div id="editor-tex"></div>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-1 editor-container"
                            v-bind:class="{'hide-editor': pieEditor != 2}">
                            <div id="editor-not"></div>
                        </div>
                    </div>
                    <div class="pure-g">
                        <div class="pure-u-md-2-5"></div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5" style="padding-bottom: 0;">
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trámites -->
        <div v-if="mainmode == 12">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Trámites</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.tramites['tramite']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('tramites')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.tramites['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('tramites')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nuevo Trámite</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="tramites && tramites.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(tramites[0]).filter(k => k != 'texto' && !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="tra in getFilteredList('tramites')" @dblclick="onSelect(tra)">
                                    <td
                                        v-for="key in Object.keys(tra).filter(k => k != 'texto' && !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{tra[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(tra)">
                                            <input :id="'toggle' + tra.tramite" type="checkbox" class="toggle-input"
                                                :checked="Number(tra.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + tra.tramite"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(tra)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-1 menuCard">
                    <h2>{{mode == 1 ? 'Nuevo' : 'Editar'}} Trámite</h2>
                    <div class="pure-g">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-3">
                            <input type="text" v-model="tramite.tramite" maxlength="50" />
                        </div>
                    </div>
                    <div class="pure-g tab-container">
                        <div class="tab pure-u-1-1 pure-u-md-1-1" @click="traEditor = 1"
                            v-bind:class="{'tab-selected': traEditor == 1}">
                            Trámite
                        </div>
                    </div>
                    <div class="pure-g" style="margin-bottom: .5rem;">
                        <div class="pure-u-1-1 pure-u-md-1-1 editor-container"
                            v-bind:class="{'hide-editor': pieEditor != 1}">
                            <div id="editor-tex"></div>
                        </div>
                    </div>
                    <div class="pure-g">
                        <div class="pure-u-md-2-5"></div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Documentos -->
        <div v-if="mainmode == 13">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Otros Documentos</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.documentos['documento']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('documentos')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.documentos['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('documentos')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="clearAllImages();setMode(1)">Agregar</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="documentos && documentos.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(documentos[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="doc in getFilteredList('documentos')" @dblclick="onSelectDocument(doc)">
                                    <td
                                        v-for="key in Object.keys(doc).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{doc[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(doc)">
                                            <input :id="'toggle' + doc.documento" type="checkbox" class="toggle-input"
                                                :checked="Number(doc.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + doc.documento"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(doc)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class='pure-u-1-1 pure-u-md-1-1 formDivision' style="font-size: 1.5em; margin-bottom:4px">
                    Archivos
                </div>
                <div class='pure-u-1-1 pure-u-md-1-24 positTex'>
                    <img class="pure-img logoExcel" src="../../img/ico/svg/delete.svg" @click="clearAllImages" alt="">
                </div>
                <div class='pure-u-1-1 pure-u-md-1-6 positTex'>
                    Nombre
                </div>
                <div class='pure-u-1-1 pure-u-md-1-5 positTex'>
                    <input type="text" v-model="documento.documento" @input="validarNombre" maxlength="50" />
                </div>
                <div class='pure-u-1-1 pure-u-md-1-24'></div>
                <div class="pure-u-1" @mousemove="updateCursor" @mouseleave="tooltipVisible = false"
                    style="position: relative;padding-top: 1em;">
                    <label for="file-input" class="preview-container"
                        style="height: calc(100vh - 17rem); cursor: pointer; max-height: 100%;"
                        @dragover.prevent="handleDragOver" @drop.prevent="handleDrop"
                        @mouseenter="tooltipVisible = true" @mouseleave="tooltipVisible = false">
                        <div v-if="previews.length === 0" class="center-absolute ">
                            Arrastra o haz clic para cargar archivos.
                        </div>
                        <div class="image-card" v-for="(item, index) in previews" :key="index" draggable="true"
                            @dragstart="dragStart(index)" @mouseenter="tooltipVisible = false"
                            @mouseleave="tooltipVisible = true" style="position: relative;">
                            <img :src="item.src" @click.stop.prevent=""
                                @mouseenter="tooltipVisible = true; tooltipMsg = item.file.name"
                                @mouseleave="tooltipVisible = false; tooltipMsg = 'Arrastra o haz clic para cargar archivos.'" />
                            <div class="image-name-overlay">{{ item.file.name }}</div>
                            <div class="download-btn">
                                <a :href="getURLFile(item.file)" :download="item.file.name">
                                    <img src="../../img/ico/download.jpg">
                                </a>
                            </div>
                            <div class="delete-btn" @click.stop.prevent="removeImage(index)">✖</div>
                        </div>
                        <div v-if="tooltipVisible" class="cursor-tooltip"
                            :style="{ top: tooltipY + 'px', left: tooltipX + 'px' }">
                            {{tooltipMsg}}
                        </div>
                    </label>
                    <input type="file" id="file-input" class="hidden-input" style="display: none;" multiple accept="*"
                        @change="handleFileChange" ref="fileInput" />
                </div>
                <div class='pure-u-1-1 pure-u-md-2-5'></div>
                <div class='pure-u-1-1 pure-u-md-1-5 positTex'>
                    <button v-on:click="onSaveDocument()" style="margin-top: .5rem;">Guardar</button>
                </div>
            </div>
        </div>

        <!-- Subsidios VIS -->
        <div v-if="mainmode == 14">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Subsidios VIS</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Periodo" v-model="filtros.subsidios['periodo']" maxlength="4"/>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('subsidios')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.subsidios['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('subsidios')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nuevo Periodo</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="subsidios && subsidios.length">
                            <thead>
                                <tr>
                                    <th>Periodo</th>
                                    <th>smmlv</th>
                                    <th>Subsidio entre 0-2 smmlv</th>
                                    <th>Subsidio entre 2-4 smmlv</th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="sub in getFilteredList('subsidios')" @dblclick="onSelect(sub)">
                                    <td v-for="key in Object.keys(sub).filter(k => k != 'imagen' && !k.startsWith('id_') && !k.startsWith('is_'))"
                                        :style="key.startsWith('smmlv') ? 'text-align: right;' : ''">
                                        {{key.startsWith('smmlv') ? formatNumber(sub[key].replace(',','.')) : sub[key]}}
                                    </td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(sub)">
                                            <input :id="'toggle' + sub.periodo" type="checkbox" class="toggle-input"
                                                :checked="Number(sub.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + sub.periodo"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(sub)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: calc(100vh - 17rem);" class="pure-g">
                <div class="pure-u-1-1 menuCard">
                    <h2>{{mode == 1 ? 'Nuevo' : 'Editar'}} Subsidio VIS</h2>
                    <div class="pure-g main-content">
                        <div class="pure-u-1-1 pure-u-md-1-3">
                            <div class="formInputStandard">
                                <span>Periodo (año)</span>
                                <input type="number" v-model="subsidio.periodo" style="font-size: 1rem;" />
                            </div>
                            <div class="formInputStandard">
                                <span>Valor smmlv</span>
                                <input type="text" v-model="f_smmlv" style="font-size: 1rem;" @input="validarFormato" />
                            </div>
                            <div class="formInputStandard">
                                <span>Subsidio entre 0 y 2 smmlv</span>
                                <input type="text" v-model="f_smmlv_0_2" style="font-size: 1rem;"
                                    @input="validarFormato" />
                            </div>
                            <div class="formInputStandard">
                                <span>Subsidio entre 2 y 4 smmlv</span>
                                <input type="text" v-model="f_smmlv_2_4" style="font-size: 1rem;"
                                    @input="validarFormato" />
                            </div>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-2-3">
                            <div class="formInputStandard" style="height: 100%;">
                                <span>Imagen</span>
                                <div v-if="subsidio.imagen">
                                    <img :src="subsidio.imagen.startsWith('blob:') ? subsidio.imagen : '/file/S3get/' + subsidio.imagen"
                                        style="max-width: 100%; max-height: calc(100vh - 21rem);
                                        display: block; margin: 0 auto; border: 1px solid #ccc;" alt="imagen">
                                    <div style="margin-top: 1rem;">
                                        <label for="sub-image" class="file" style="text-align: center;">Subir
                                            Imagen</label>
                                        <input id="sub-image" type="file" @change="fileUpload" style="display: none;" />
                                    </div>
                                </div>
                                <div v-else style="height: 100%;">
                                    <label for="sub-image" class="image-drag" draggable="true"
                                        @dragover.prevent="handleDragOver" @drop.prevent="handleSubDrop">
                                        <span>Arrastra una imagen o haz clic</span>
                                    </label>
                                    <input id="sub-image" type="file" @change="fileUpload" style="display: none;"
                                        accept="image/*" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pure-g">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-1" style="text-align: center;">
                            <button v-on:click="onSaveSubsidio()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tipos Financiación -->
        <div v-if="mainmode == 15">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Tipos de Financiación</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre"
                                    v-model="filtros.tipos_financiacion['tipo_financiacion']" maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('tipos_financiacion')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.tipos_financiacion['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('tipos_financiacion')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nuevo Tipo</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;"
                            v-if="tipos_financiacion && tipos_financiacion.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(tipos_financiacion[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="tf in getFilteredList('tipos_financiacion')" @dblclick="onSelect(tf)">
                                    <td
                                        v-for="key in Object.keys(tf).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{tf[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(tf)">
                                            <input :id="'toggle' + tf.tipo_financiacion" type="checkbox"
                                                class="toggle-input" :checked="Number(tf.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + tf.tipo_financiacion"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(tf)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nuevo' : 'Editar'}} Tipo Financiación</h2>
                    <div class="pure-g main-content">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-16-24">
                            <span>Tipo Financiación</span>
                            <input type="text" v-model="tipo_financiacion.tipo_financiacion" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-8">
                            <span>Porcentaje</span>
                            <input type="text" v-model="tipo_financiacion.porcentaje" @input="validarEntero($event); inRange($event, 0, 100);"/>
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <button style="margin-top: 1.5rem;" v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Clase Unidades -->
        <div v-if="mainmode == 16">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Clase Unidades</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre"
                                    v-model="filtros.tipos_proyecto['tipo_proyecto']" maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('tipos_proyecto')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.tipos_proyecto['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('tipos_proyecto')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nueva Clase</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;"
                            v-if="tipos_proyecto && tipos_proyecto.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(tipos_proyecto[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="tpr in getFilteredList('tipos_proyecto')" @dblclick="onSelect(tpr)">
                                    <td
                                        v-for="key in Object.keys(tpr).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{tpr[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(tpr)">
                                            <input :id="'toggle' + tpr.tipo_proyecto" type="checkbox"
                                                class="toggle-input" :checked="Number(tpr.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + tpr.tipo_proyecto"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(tpr)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nuevo' : 'Editar'}} Clase Unidad</h2>
                    <div class="pure-g main-content">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-12-24">
                            <input type="text" v-model="tipo_proyecto.tipo_proyecto" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-5-24">
                            <input type="text" v-model="tipo_proyecto.codigo" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Estados Publicación -->
        <div v-if="mainmode == 17">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Estados de Publicación</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre"
                                    v-model="filtros.estados_proyecto['estado_publicacion']" maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('estados_proyecto')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.estados_proyecto['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('estados_proyecto')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nuevo Estado</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;"
                            v-if="estados_proyecto && estados_proyecto.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(estados_proyecto[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="epr in getFilteredList('estados_proyecto')" @dblclick="onSelect(epr)">
                                    <td
                                        v-for="key in Object.keys(epr).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{epr[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(epr)">
                                            <input :id="'toggle' + epr.estado_publicacion" type="checkbox"
                                                class="toggle-input" :checked="Number(epr.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + epr.estado_publicacion"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(epr)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nuevo' : 'Editar'}} Estado Publicación</h2>
                    <div class="pure-g main-content">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-16-24">
                            <input type="text" v-model="estado_proyecto.estado_publicacion" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tipologías VIS -->
        <div v-if="mainmode == 18">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Tipologías de Proyecto</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.tipos_vis['tipo_vis']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('tipos_vis')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.tipos_vis['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('tipos_vis')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nueva Tipología</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="tipos_vis && tipos_vis.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(tipos_vis[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="vis in getFilteredList('tipos_vis')" @dblclick="onSelect(vis)">
                                    <td
                                        v-for="key in Object.keys(vis).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{vis[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(vis)">
                                            <input :id="'toggle' + vis.tipo_vis" type="checkbox" class="toggle-input"
                                                :checked="Number(vis.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + vis.tipo_vis"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(vis)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nueva' : 'Editar'}} Tipología Proyecto</h2>
                    <div class="pure-g main-content">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-16-24">
                            <input type="text" v-model="tipo_vis.tipo_vis" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Emails Receptores -->
        <div v-if="mainmode == 19">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0 || mode == 1">{{setMode(2)}}</div>

            <div v-if="mode == 2" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Editar Emails Receptores</h2>
                    <div class="pure-g main-content">
                        <div class="pure-u-1-2 pure-u-md-11-24" v-for="email in emails">
                            <div class="formInputStandard pure-u-md-22-24">
                                <label>Email {{email.id_email}}</label>
                                <input type="text" v-model="email.email" maxlength="200"
                                    v-bind:class="{'errorInput': !isEmail(email.email)}" />
                            </div>
                            <div class="pure-u-1-12"></div>
                        </div>
                    </div>
                    <div class="formInputStandard pure-u-1-2 pure-u-md-1-5"
                        style="margin-top: 1rem; text-align: center;width: 100%;">
                        <button v-on:click="onUpdateEmail()">Guardar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Colores de estado -->
        <div v-if="mainmode == 21">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Estados de Unidades y Colores</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.colores['estado']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('colores')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.colores['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('colores')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nuevo Estado</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="colores && colores.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(colores[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_') && !k.startsWith('color_'))">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Color fondo</th>
                                    <th>Color fuente</th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="col in getFilteredList('colores')" @dblclick="onSelect(col)">
                                    <td
                                        v-for="key in Object.keys(col).filter(k => !k.startsWith('id_') && !k.startsWith('is_')  && !k.startsWith('color_'))">
                                        {{col[key]}}</td>
                                    <td>
                                        <div class="div-color" :style="`background-color: ${col.color_fondo}`"></div>
                                    </td>
                                    <td>
                                        <div class="div-color" :style="`background-color: ${col.color_fuente}`"></div>
                                    </td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(col)">
                                            <input :id="'toggle' + col.color_fondo" type="checkbox" class="toggle-input"
                                                :checked="Number(col.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + col.color_fondo"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(col)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nuevo' : 'Editar'}} Color</h2>
                    <div class="pure-g main-content">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-3">
                            <span>Estado unidad</span>
                            <input type="text" v-model="color.estado_unidad" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-3">
                            <span>Estado unidad plural</span>
                            <input type="text" v-model="color.estado_unidad_plural" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-12" style="text-align: center;">
                            <span>Fondo</span>
                            <input type="color" v-model="color.color_fondo" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-12" style="text-align: center;">
                            <span>Fuente</span>
                            <input type="color" v-model="color.color_fuente" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-4">
                            <div style="display: block; margin-bottom: 0.3rem; height: 1.3rem;"></div>
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sedes -->
        <div v-if="mainmode == 22">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>

            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Sedes</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.sedes['sede']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('sedes')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.sedes['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('sedes')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nueva Sede</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="sedes && sedes.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(sedes[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="sed in getFilteredList('sedes')" @dblclick="onSelect(sed)">
                                    <td
                                        v-for="key in Object.keys(sed).filter(k => !k.startsWith('id_') && !k.startsWith('is_') )">
                                        {{sed[key]}}</td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(sed)">
                                            <input :id="'toggle' + sed.sede" type="checkbox" class="toggle-input"
                                                :checked="Number(sed.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + sed.sede"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(sed)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div v-if="mode == 1 || mode == 2" style="padding: 1em; height: max-content;" class="pure-g">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nueva' : 'Editar'}} Sede</h2>
                    <div class="pure-g main-content">
                        <div class="formInputStandard pure-u-1-3 pure-u-md-1-3">
                            <span>Sede</span>
                            <input type="text" v-model="sede.sede" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-3">
                            <span>Alias</span>
                            <input type="text" v-model="sede.alias" maxlength="3" />
                        </div>
                        <div class="formInputStandard pure-u-1-3 pure-u-md-1-3">
                            <span>Gerencia Comercial</span>
                            <select v-model='sede.id_gerente'>
                                <option v-for="user in gerentes" :value="user.id_usuario">
                                    {{ user.nombres }}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="formInputStandard pure-u-1-2 pure-u-md-1-1" style="text-align: center;">
                        <button v-on:click="onSave()">Guardar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Caja de Compensación -->
        <div v-if="mainmode == 23">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>
            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Caja de Compensación</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.cajasCompensacion['caja']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('cajasCompensacion')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.cajasCompensacion['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('cajasCompensacion')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nueva Caja </button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;"
                            v-if="cajasCompensacion && cajasCompensacion.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(cajasCompensacion[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="cat in getFilteredList('cajasCompensacion')"
                                    @dblclick.stop.prevent="onSelect(cat)">
                                    <td
                                        v-for="key in Object.keys(cat).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{cat[key]}}
                                    </td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(cat)">
                                            <input :id="'toggle' + cat.categoria" type="checkbox" class="toggle-input"
                                                :checked="Number(cat.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + cat.categoria"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(cat)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div v-if="mode == 1 || mode == 2" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nueva' : 'Editar'}} Caja de Compensación</h2>
                    <div class="pure-g main-content" style="margin-top: 1em; margin-bottom: 3em;">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-16-24">
                            <input type="text" v-model="cajaCompensacion.caja" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- tipos de tramites -->
        <div v-if="mainmode == 24">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>
            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Tipos de Trámite</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.tiposTramite['tipo_tramite']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('tiposTramite')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.tiposTramite['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('tiposTramite')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nuevo Trámite</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;" v-if="tiposTramite && tiposTramite.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(tiposTramite[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="cat in getFilteredList('tiposTramite')" @dblclick.stop.prevent="onSelect(cat)">
                                    <td
                                        v-for="key in Object.keys(cat).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{cat[key]}}
                                    </td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(cat)">
                                            <input :id="'toggle' + cat.categoria" type="checkbox" class="toggle-input"
                                                :checked="Number(cat.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + cat.categoria"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(cat)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div v-if="mode == 1 || mode == 2" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nueva' : 'Editar'}} Tipos de Trámite</h2>
                    <div class="pure-g main-content" style="margin-top: 1em; margin-bottom: 3em;">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-16-24">
                            <input type="text" v-model="tipoTramite.tipo_tramite" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- tipo de registro -->
        <div v-if="mainmode == 25">
            <div style="font-size: 1rem; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; ">
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>
            <div v-if="mode == 0" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>Tipo de Registro</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-10-24">
                                <input type="text" placeholder="Nombre" v-model="filtros.tiposRegistro['tipo_registro']"
                                    maxlength="50" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-12">
                                <div class="imgGraybutton" @click="onClear('tiposRegistro')">
                                    <img src="./img/ico/eraser.png" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-8">
                                <select v-model="filtros.tiposRegistro['is_active']" class="pure-input-1">
                                    <option value="">Activos/Inactivos</option>
                                    <option value="1">Activos</option>
                                    <option value="0">Inactivos</option>
                                </select>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-2 pure-u-md-1-24">
                                <img src="../../img/cli/excel_02.png" alt="Excel" class="pure-img logoExcel"
                                    @click="exportExcel('tiposRegistro')" title="Descargar datos a Excel" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-1-4">
                                <button v-on:click="setMode(1)">Nuevo Registro</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable" style="table-layout: auto;"
                            v-if="tiposRegistro && tiposRegistro.length">
                            <thead>
                                <tr>
                                    <th
                                        v-for="key in Object.keys(tiposRegistro[0]).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{(key[0].toUpperCase() + key.substr(1)).replaceAll("_"," ")}}
                                    </th>
                                    <th>Activo</th>
                                    <th>Eliminar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="cat in getFilteredList('tiposRegistro')" @dblclick.stop.prevent="onSelect(cat)">
                                    <td
                                        v-for="key in Object.keys(cat).filter(k => !k.startsWith('id_') && !k.startsWith('is_'))">
                                        {{cat[key]}}
                                    </td>
                                    <td style="text-align: center;">
                                        <div class="toggle-switch" @click.stop.prevent="toggleState(cat)">
                                            <input :id="'toggle' + cat.id_tipo_registro" type="checkbox"
                                                class="toggle-input" :checked="Number(cat.is_active) !== 1">
                                            <label class="toggle-label" :for="'toggle' + cat.id_tipo_registro"
                                                style="transform: rotate(180deg);"></label>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">
                                        <span @click.stop.prevent="requestDelete(cat)" class="delete">✖</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div v-if="mode == 1 || mode == 2" style="padding: 1em">
                <div class="pure-u-1-24 pure-u-md-1-24"></div>
                <div class="pure-u-22-24 pure-u-md-22-24 menuCard">
                    <h2>{{mode == 1 ? 'Nueva' : 'Editar'}} Tipo de Registro</h2>
                    <div class="pure-g main-content" style="margin-top: 1em; margin-bottom: 3em;">
                        <div class="formInputStandard pure-u-1-2 pure-u-md-16-24">
                            <input type="text" v-model="tipoRegistro.tipo_registro" maxlength="50" />
                        </div>
                        <div class="formInputStandard pure-u-1-2 pure-u-md-1-5">
                            <button v-on:click="onSave()">Guardar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>