<div class="pure-g">
    <div style="position:relative">
        <div class="float-btn" @click="toggleList" v-bind:class="{'open': showList}"
            :style="{right: (showList?'-20.3vw':'-2.3vw') }">
            <img src="../../img/ico/deploy.png">
        </div>
    </div>
    <div class="pure-u-1-1 pure-u-md-1-5" :style="{display:showList?'block':'none'}"
        :class="['lateralMenuContainer', { open: showList }]">
        <div class="lateralMenu">
            <div class="lateralMenuHeader">
            </div>
            <div class="lateralMenuGroup">
                <div v-on:click="setMainMode(0)" class="lateralMenuItem noSelect" v-bind:class="{'lateralMenuItemSelected': mainmode == 0}">
                    <img src="./img/ico/svg/building.svg" />
                    Proyectos
                </div>
            </div>
            <div class="lateralMenuGroup">
                <div class="lateralMenuItem noSelect group" style="padding-left: 8px; cursor: auto;">
                    Parametrización General
                </div>
            </div>
            <div class="lateralMenuGroup">
                <div v-on:click="setMainMode(1)" class="lateralMenuItem noSelect" v-bind:class="{'lateralMenuItemSelected': mainmode == 1}">
                    <img src="./img/ico/svg/building.svg" />
                    Selección de Obras
                </div>
                <div v-on:click="setMainMode(2)" class="lateralMenuItem noSelect" v-bind:class="{'lateralMenuItemSelected': mainmode == 2}">
                    <img src="./img/ico/svg/building.svg" />
                    Concretera
                </div>
                <div v-on:click="setMainMode(3)" class="lateralMenuItem noSelect" v-bind:class="{'lateralMenuItemSelected': mainmode == 3}">
                    <img src="./img/ico/svg/building.svg" />
                    Laboratorio
                </div>
                <div v-on:click="setMainMode(4)" class="lateralMenuItem noSelect" v-bind:class="{'lateralMenuItemSelected': mainmode == 4}">
                    <img src="./img/ico/svg/building.svg" />
                    Clase Muestra
                </div>
                <div v-on:click="setMainMode(5)" class="lateralMenuItem noSelect" v-bind:class="{'lateralMenuItemSelected': mainmode == 5}">
                    <img src="./img/ico/svg/building.svg" />
                    Tipo Muestra
                </div>
            </div>
            <div class="lateralMenuGroup" v-if="selectedProyectoCC">
                <div class="lateralMenuItem noSelect group" style="padding-left: 8px; cursor: auto;">
                    Parametrización de Obra
                </div>
            </div>
            <div class="lateralMenuGroup" v-if="selectedProyectoCC">
                <div v-on:click="setMainMode(6)" class="lateralMenuItem noSelect" v-bind:class="{'lateralMenuItemSelected': mainmode == 6}">
                    <img src="./img/ico/svg/building.svg" />
                    Personalización
                </div>
                <div v-on:click="setMainMode(7)" class="lateralMenuItem noSelect" v-bind:class="{'lateralMenuItemSelected': mainmode == 7}">
                    <img src="./img/ico/svg/building.svg" />
                    Ubicación
                </div>
                <div v-on:click="setMainMode(8)" class="lateralMenuItem noSelect" v-bind:class="{'lateralMenuItemSelected': mainmode == 8}">
                    <img src="./img/ico/svg/building.svg" />
                    Pisos
                </div>
                <div v-on:click="setMainMode(9)" class="lateralMenuItem noSelect" v-bind:class="{'lateralMenuItemSelected': mainmode == 9}">
                    <img src="./img/ico/svg/building.svg" />
                    Observaciones
                </div>
            </div>
        </div>
    </div>
    <div :class="['pure-u-1-1', showList ? 'pure-u-md-4-5' : 'pure-u-md-1-1']">
        <div style="font-size: 1rem; font-weight: 500; border-bottom: 1px solid rgb(231, 231, 231); padding: 1rem; padding-left: 2rem; padding-right: 3rem; display: flex; justify-content: space-between; align-items: center;">
            <div>
                <div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
                    <span class="hoverLink">{{ r.text }}</span>
                    <span v-if="i < ruta.length - 1"> / </span>
                </div>
            </div>
            <div style="display: flex; align-items: center; gap: 0.5rem;">
                <label style="font-size: 0.85rem; color: #666; white-space: nowrap;">Proyecto:</label>
                <select v-model="selectedProyectoCC" style="padding: 0.3rem 0.5rem; border: 1px solid #ccc; border-radius: 4px; font-size: 0.85rem; min-width: 200px;">
                    <option :value="null">-- Seleccione un proyecto --</option>
                    <option v-for="p in proyectosCC" :key="p.id_proyecto_cc" :value="p.id_proyecto_cc">
                        {{ p.nombre }}
                    </option>
                </select>
            </div>
        </div>
        <!-- PROYECTOS CARD VIEW -->
        <div v-if="mainmode == 0" style="padding-top: 1em;">
            <div class="pure-u-1-24"></div>
            <div class="pure-u-22-24" style="height: calc(100vh - 11rem); overflow-y: auto;">
                <div class="searchBox" style="padding: 1rem 5px;">
                    <div class="pure-g">
                        <div class="pure-u-1-1 pure-u-md-5-24">
                            <input type="text" placeholder="Buscar proyecto..." v-model="searchCC" />
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-24">
                            <div class="imgGraybutton" @click="searchCC = ''">
                                <img src="./img/ico/eraser.png" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="matrix-cont" style="padding-top: .5rem;">
                    <div class="item-matrix" v-for="item in getFilteredProyectosCC()" :key="item.id_proyecto_cc">
                        <div class="img-matrix">
                            <img class="img-matrix-img" v-if="item.logo" :src="'/file/S3get/' + item.logo" :alt="`img_${item.nombre}`">
                        </div>
                        <div class="bottom-matrix">
                            <span>{{ item.nombre }}</span>
                        </div>
                        <div class="bottom-adm">
                            <span>{{ item.nombre_laboratorio }}</span>
                        </div>
                    </div>
                    <div v-if="getFilteredProyectosCC().length === 0" style="padding: 2rem; text-align: center; color: #999;">
                        No se encontraron proyectos habilitados.
                    </div>
                </div>
            </div>
        </div>

        <!-- SELECCIÓN DE OBRAS -->
        <div v-if="mainmode == 1">
            <!-- LIST VIEW -->
            <div v-if="mode == 0" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Selección de Obras para Cuadros de Calidad</h2>
                    <p style="color: #666; margin-bottom: 1rem;">
                        Seleccione los proyectos que participarán en el módulo de Cuadros de Calidad.
                    </p>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-16-24">
                                <input type="text" placeholder="Buscar obra habilitada..." v-model="filtroObras.nombre" @keyup.enter="getObras" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24">
                                <div class="imgGraybutton">
                                    <img src="./img/ico/svg/search.svg" @click="getObras" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-5-24" style="text-align: right;">
                                <button v-on:click="startNewObra()">Habilitar Obra</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable">
                            <thead>
                                <tr>
                                    <th style="width: 80px;">Logo</th>
                                    <th>Proyecto</th>
                                    <th>Laboratorio</th>
                                    <th style="width: 12%;">Código Lab.</th>
                                    <th style="width: 15%;">Fecha Habilitación</th>
                                    <th style="width: 10%;">Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="item in obras" @click="editObra(item)" style="cursor: pointer;">
                                    <td style="text-align: center;">
                                        <img v-if="item.logo" :src="'/file/S3get/' + item.logo"
                                             style="width: 64px; height: 64px; object-fit: contain; border-radius: 4px;" />
                                        <span v-else style="color: #ccc;">-</span>
                                    </td>
                                    <td>{{ item.nombre }}</td>
                                    <td>{{ item.nombre_laboratorio }}</td>
                                    <td style="text-align: center;">{{ item.codigo_laboratorio }}</td>
                                    <td style="text-align: center;">{{ formatDate(item.created_on) }}</td>
                                    <td style="text-align: center;">{{ item.estado }}</td>
                                </tr>
                                <tr v-if="obras.length === 0">
                                    <td colspan="6" style="text-align: center; color: #999; padding: 2rem;">
                                        No hay obras habilitadas para Cuadros de Calidad.
                                        <br><br>
                                        <button @click="startNewObra()">Habilitar primera obra</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <!-- ADD NEW PROJECT -->
            <div v-if="mode == 1" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Habilitar Obra para Cuadros de Calidad</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Seleccionar Proyecto</label>
                            <select v-model="formData.id_proyecto" class="pure-input-1">
                                <option value="">-- Seleccione un proyecto --</option>
                                <option v-for="p in proyectosDisponibles" :value="p.id_proyecto">
                                    {{ p.nombre }}
                                </option>
                            </select>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Laboratorio</label>
                            <select v-model="formData.id_laboratorio" class="pure-input-1">
                                <option value="">-- Seleccione un laboratorio --</option>
                                <option v-for="l in laboratoriosActivos" :value="l.id_laboratorio">
                                    {{ l.nombre }}
                                </option>
                            </select>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Código Laboratorio</label>
                            <input type="number" v-model="formData.codigo_laboratorio" class="pure-input-1"
                                   placeholder="Ingrese el código del laboratorio" />
                        </div>
                        <div class="pure-u-1-1" style="padding: 0.5rem; text-align: right; margin-top: 1rem;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('obras')" :disabled="!formData.id_proyecto || !formData.id_laboratorio || !formData.codigo_laboratorio">Habilitar Obra</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <!-- EDIT PROJECT -->
            <div v-if="mode == 2" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Editar Configuración de Obra</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Proyecto</label>
                            <input type="text" :value="formData.nombre" class="pure-input-1" disabled
                                   style="background-color: #f5f5f5;" />
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Laboratorio</label>
                            <select v-model="formData.id_laboratorio" class="pure-input-1">
                                <option value="">-- Seleccione un laboratorio --</option>
                                <option v-for="l in laboratoriosActivos" :value="l.id_laboratorio">
                                    {{ l.nombre }}
                                </option>
                            </select>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Código Laboratorio</label>
                            <input type="number" v-model="formData.codigo_laboratorio" class="pure-input-1"
                                   placeholder="Ingrese el código del laboratorio" />
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Proyecto ACC (Autodesk)</label>
                            <select v-model="formData.acc_project_id" class="pure-input-1">
                                <option value="">-- Sin vincular --</option>
                                <option v-for="p in accProjects" :value="p.id">
                                    {{ p.name }}
                                </option>
                            </select>
                            <small style="color: #666;">Vincule un proyecto de Autodesk Construction Cloud para sincronizar ubicaciones y pisos.</small>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; margin-top: 1rem;">
                            <button v-if="formData.estado === 'Habilitado'" @click="reqRemoveObra(formData.id_proyecto_cc)" style="background-color: #dc3545; border-color: #dc3545;">
                                Deshabilitar Obra
                            </button>
                            <button v-else @click="activateObra(formData.id_proyecto_cc)" style="background-color: #28a745; border-color: #28a745;">
                                Habilitar Obra
                            </button>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; text-align: right; margin-top: 1rem;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('obras')">Guardar Cambios</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
        </div>

        <!-- CONCRETERA -->
        <div v-if="mainmode == 2">
            <div v-if="mode == 0" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Concretera</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-16-24">
                                <input type="text" placeholder="Buscar concretera..." v-model="filtroConcreteras.nombre" @keyup.enter="getConcreteras" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24">
                                <div class="imgGraybutton">
                                    <img src="./img/ico/svg/search.svg" @click="getConcreteras" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-5-24" style="text-align: right;">
                                <button v-on:click="startNew('concreteras')">Nueva Concretera</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable">
                            <thead>
                                <tr>
                                    <th style="width: 80px;">Logo</th>
                                    <th>Nombre</th>
                                    <th style="width: 100px;">Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="item in concreteras" @click="selectItem(item, 'concreteras')" style="cursor: pointer;">
                                    <td style="text-align: center;">
                                        <img v-if="item.logo" :src="'/file/S3get/' + item.logo"
                                             style="width: 64px; height: 64px; object-fit: contain; border-radius: 4px;" />
                                        <span v-else style="color: #ccc;">-</span>
                                    </td>
                                    <td>{{ item.nombre }}</td>
                                    <td style="text-align: center;">{{ item.estado }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <!-- CREATE CONCRETERA -->
            <div v-if="mode == 1" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Nueva Concretera</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Nombre</label>
                            <input type="text" v-model="formData.nombre" class="pure-input-1" />
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;"></div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Logo (&lt; 2MB)</label>
                            <div v-if="!formData.logoPreview" style="margin-top: 0.5rem;">
                                <label for="archivo-logo-concretera" class="file-upload-label">
                                    Seleccionar Logo
                                </label>
                                <input accept="image/*" type="file" id="archivo-logo-concretera"
                                    class="hidden-input" @change="previewLogo($event)" />
                            </div>
                            <div v-else style="display: flex; align-items: center; gap: 10px; margin-top: 0.5rem;">
                                <img :src="formData.logoPreview" alt="Logo" style="max-height: 40px; border-radius: 4px;" />
                                <button @click="removeLogo()" type="button"
                                    style="background: #dc3545; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer;">
                                    Cambiar
                                </button>
                            </div>
                        </div>
                        <div class="pure-u-1-1" style="padding: 0.5rem; text-align: right; margin-top: 1rem;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('concreteras')">Guardar</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <!-- EDIT CONCRETERA -->
            <div v-if="mode == 2" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Editar Concretera</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Nombre</label>
                            <input type="text" v-model="formData.nombre" class="pure-input-1" />
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;"></div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Logo (&lt; 2MB)</label>
                            <div v-if="!formData.logoPreview" style="margin-top: 0.5rem;">
                                <label for="archivo-logo-concretera" class="file-upload-label">
                                    Seleccionar Logo
                                </label>
                                <input accept="image/*" type="file" id="archivo-logo-concretera"
                                    class="hidden-input" @change="previewLogo($event)" />
                            </div>
                            <div v-else style="display: flex; align-items: center; gap: 10px; margin-top: 0.5rem;">
                                <img :src="formData.logoPreview" alt="Logo" style="max-height: 40px; border-radius: 4px;" />
                                <button @click="removeLogo()" type="button"
                                    style="background: #dc3545; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer;">
                                    Cambiar
                                </button>
                            </div>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;"></div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; margin-top: 1rem;">
                            <button v-if="formData.estado === 'Activo'" @click="reqRemoveItem(formData.id_concretera, 'concreteras')" style="background-color: #dc3545; border-color: #dc3545;">
                                Deshabilitar
                            </button>
                            <button v-else @click="activateItem(formData.id_concretera, 'concreteras')" style="background-color: #28a745; border-color: #28a745;">
                                Activar
                            </button>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; text-align: right; margin-top: 1rem;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('concreteras')">Guardar</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
        </div>

        <!-- LABORATORIO -->
        <div v-if="mainmode == 3">
            <div v-if="mode == 0" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Laboratorio</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-16-24">
                                <input type="text" placeholder="Buscar laboratorio..." v-model="filtroLaboratorios.nombre" @keyup.enter="getLaboratorios" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24">
                                <div class="imgGraybutton">
                                    <img src="./img/ico/svg/search.svg" @click="getLaboratorios" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-5-24" style="text-align: right;">
                                <button v-on:click="startNew('laboratorios')">Nuevo Laboratorio</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable">
                            <thead>
                                <tr>
                                    <th style="width: 80px;">Logo</th>
                                    <th>Nombre</th>
                                    <th style="width: 100px;">Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="item in laboratorios" @click="selectItem(item, 'laboratorios')" style="cursor: pointer;">
                                    <td style="text-align: center;">
                                        <img v-if="item.logo" :src="'/file/S3get/' + item.logo"
                                             style="width: 64px; height: 64px; object-fit: contain; border-radius: 4px;" />
                                        <span v-else style="color: #ccc;">-</span>
                                    </td>
                                    <td>{{ item.nombre }}</td>
                                    <td style="text-align: center;">{{ item.estado }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <!-- CREATE LABORATORIO -->
            <div v-if="mode == 1" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Nuevo Laboratorio</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Nombre</label>
                            <input type="text" v-model="formData.nombre" class="pure-input-1" />
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;"></div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Logo (&lt; 2MB)</label>
                            <div v-if="!formData.logoPreview" style="margin-top: 0.5rem;">
                                <label for="archivo-logo-laboratorio" class="file-upload-label">
                                    Seleccionar Logo
                                </label>
                                <input accept="image/*" type="file" id="archivo-logo-laboratorio"
                                    class="hidden-input" @change="previewLogo($event)" />
                            </div>
                            <div v-else style="display: flex; align-items: center; gap: 10px; margin-top: 0.5rem;">
                                <img :src="formData.logoPreview" alt="Logo" style="max-height: 40px; border-radius: 4px;" />
                                <button @click="removeLogo()" type="button"
                                    style="background: #dc3545; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer;">
                                    Cambiar
                                </button>
                            </div>
                        </div>
                        <div class="pure-u-1-1" style="padding: 0.5rem; text-align: right; margin-top: 1rem;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('laboratorios')">Guardar</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <!-- EDIT LABORATORIO -->
            <div v-if="mode == 2" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Editar Laboratorio</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Nombre</label>
                            <input type="text" v-model="formData.nombre" class="pure-input-1" />
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;"></div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Logo (&lt; 2MB)</label>
                            <div v-if="!formData.logoPreview" style="margin-top: 0.5rem;">
                                <label for="archivo-logo-laboratorio" class="file-upload-label">
                                    Seleccionar Logo
                                </label>
                                <input accept="image/*" type="file" id="archivo-logo-laboratorio"
                                    class="hidden-input" @change="previewLogo($event)" />
                            </div>
                            <div v-else style="display: flex; align-items: center; gap: 10px; margin-top: 0.5rem;">
                                <img :src="formData.logoPreview" alt="Logo" style="max-height: 40px; border-radius: 4px;" />
                                <button @click="removeLogo()" type="button"
                                    style="background: #dc3545; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer;">
                                    Cambiar
                                </button>
                            </div>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;"></div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; margin-top: 1rem;">
                            <button v-if="formData.estado === 'Activo'" @click="reqRemoveItem(formData.id_laboratorio, 'laboratorios')" style="background-color: #dc3545; border-color: #dc3545;">
                                Deshabilitar
                            </button>
                            <button v-else @click="activateItem(formData.id_laboratorio, 'laboratorios')" style="background-color: #28a745; border-color: #28a745;">
                                Activar
                            </button>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; text-align: right; margin-top: 1rem;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('laboratorios')">Guardar</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
        </div>

        <!-- CLASE MUESTRA -->
        <div v-if="mainmode == 4">
            <div v-if="mode == 0" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Clase Muestra</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-16-24">
                                <input type="text" placeholder="Buscar clase de muestra..." v-model="filtroClasesMuestra.nombre" @keyup.enter="getClasesMuestra" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24">
                                <div class="imgGraybutton">
                                    <img src="./img/ico/svg/search.svg" @click="getClasesMuestra" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-5-24" style="text-align: right;">
                                <button v-on:click="startNew('clasesMuestra')">Nueva Clase</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable">
                            <thead>
                                <tr>
                                    <th>Descripción</th>
                                    <th style="width: 100px;">Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="item in clasesMuestra" @click="selectItem(item, 'clasesMuestra')" style="cursor: pointer;">
                                    <td>{{ item.descripcion }}</td>
                                    <td style="text-align: center;">{{ item.estado }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <div v-if="mode == 1" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Nueva Clase Muestra</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Descripción</label>
                            <input type="text" v-model="formData.descripcion" class="pure-input-1" />
                        </div>
                        <div class="pure-u-1-1" style="padding: 0.5rem; text-align: right;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('clasesMuestra')" :disabled="!formData.descripcion">Guardar</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <div v-if="mode == 2" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Editar Clase Muestra</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Descripción</label>
                            <input type="text" v-model="formData.descripcion" class="pure-input-1" />
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;"></div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; margin-top: 1rem;">
                            <button v-if="formData.estado === 'Activo'" @click="reqRemoveItem(formData.id_clase_muestra, 'clasesMuestra')" style="background-color: #dc3545; border-color: #dc3545;">
                                Deshabilitar
                            </button>
                            <button v-else @click="activateItem(formData.id_clase_muestra, 'clasesMuestra')" style="background-color: #28a745; border-color: #28a745;">
                                Activar
                            </button>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; text-align: right; margin-top: 1rem;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('clasesMuestra')" :disabled="!formData.descripcion">Guardar</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
        </div>

        <!-- TIPO MUESTRA -->
        <div v-if="mainmode == 5">
            <div v-if="mode == 0" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Tipo Muestra</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-16-24">
                                <input type="text" placeholder="Buscar tipo de muestra..." v-model="filtroTiposMuestra.descripcion" @keyup.enter="getTiposMuestra" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24">
                                <div class="imgGraybutton">
                                    <img src="./img/ico/svg/search.svg" @click="getTiposMuestra" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-5-24" style="text-align: right;">
                                <button v-on:click="startNew('tiposMuestra')">Nuevo Tipo</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable">
                            <thead>
                                <tr>
                                    <th>Descripción</th>
                                    <th>Clase Muestra</th>
                                    <th style="width: 10%;">Rango Verde</th>
                                    <th style="width: 10%;">Rango Amarillo</th>
                                    <th style="width: 10%;">Rango Rojo</th>
                                    <th style="width: 10%;">Diámetro</th>
                                    <th style="width: 8%;">Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="item in tiposMuestra" @click="selectItem(item, 'tiposMuestra')" style="cursor: pointer;">
                                    <td>{{ item.descripcion }}</td>
                                    <td>{{ item.clase_descripcion }}</td>
                                    <td style="text-align: center;">
                                        <span style="color: green; font-weight: 500;">{{ item.rango_verde }}%</span>
                                    </td>
                                    <td style="text-align: center;">
                                        <span style="color: #DAA520; font-weight: 500;">{{ item.rango_amarillo }}%</span>
                                    </td>
                                    <td style="text-align: center;">
                                        <span style="color: red; font-weight: 500;">{{ item.rango_rojo }}%</span>
                                    </td>
                                    <td style="text-align: center;">{{ item.diametro || '-' }}</td>
                                    <td style="text-align: center;">{{ item.estado }}</td>
                                </tr>
                                <tr v-if="tiposMuestra.length === 0">
                                    <td colspan="7" style="text-align: center; color: #999; padding: 2rem;">
                                        No hay tipos de muestra registrados.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <div v-if="mode == 1" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Nuevo Tipo Muestra</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Descripción</label>
                            <input type="text" v-model="formData.descripcion" class="pure-input-1" />
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Diámetro</label>
                            <input type="text" v-model="formData.diametro" class="pure-input-1" />
                            <small style="color: #666;">Opcional</small>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Clase Muestra</label>
                            <select v-model="formData.id_clase_muestra" class="pure-input-1">
                                <option value="">-- Seleccione una clase --</option>
                                <option v-for="c in clasesDisponibles" :value="c.id_clase_muestra">
                                    {{ c.descripcion }}
                                </option>
                            </select>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Rango Verde (%)</label>
                            <input type="number" step="0.001" v-model="formData.rango_verde" class="pure-input-1" />
                            <small style="color: #666;">Umbral mínimo para estado verde</small>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Rango Amarillo (%)</label>
                            <input type="number" step="0.001" v-model="formData.rango_amarillo" class="pure-input-1" />
                            <small style="color: #666;">Umbral mínimo para estado amarillo</small>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Rango Rojo (%)</label>
                            <input type="number" step="0.001" v-model="formData.rango_rojo" class="pure-input-1" />
                            <small style="color: #666;">Umbral mínimo para estado rojo</small>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; text-align: right; margin-top: 1rem;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('tiposMuestra')" :disabled="!formData.id_clase_muestra || !formData.descripcion">Guardar</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <div v-if="mode == 2" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Editar Tipo Muestra</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Descripción</label>
                            <input type="text" v-model="formData.descripcion" class="pure-input-1" />
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Diámetro</label>
                            <input type="text" v-model="formData.diametro" class="pure-input-1" />
                            <small style="color: #666;">Opcional</small>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Clase Muestra</label>
                            <select v-model="formData.id_clase_muestra" class="pure-input-1">
                                <option value="">-- Seleccione una clase --</option>
                                <option v-for="c in clasesDisponibles" :value="c.id_clase_muestra">
                                    {{ c.descripcion }}
                                </option>
                            </select>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Rango Verde (%)</label>
                            <input type="number" step="0.001" v-model="formData.rango_verde" class="pure-input-1" />
                            <small style="color: #666;">Umbral mínimo para estado verde</small>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Rango Amarillo (%)</label>
                            <input type="number" step="0.001" v-model="formData.rango_amarillo" class="pure-input-1" />
                            <small style="color: #666;">Umbral mínimo para estado amarillo</small>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-3" style="padding: 0.5rem;">
                            <label>Rango Rojo (%)</label>
                            <input type="number" step="0.001" v-model="formData.rango_rojo" class="pure-input-1" />
                            <small style="color: #666;">Umbral mínimo para estado rojo</small>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; margin-top: 1rem;">
                            <button v-if="formData.estado === 'Activo'" @click="reqRemoveItem(formData.id_tipo_muestra, 'tiposMuestra')" style="background-color: #dc3545; border-color: #dc3545;">
                                Deshabilitar
                            </button>
                            <button v-else @click="activateItem(formData.id_tipo_muestra, 'tiposMuestra')" style="background-color: #28a745; border-color: #28a745;">
                                Activar
                            </button>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; text-align: right; margin-top: 1rem;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('tiposMuestra')" :disabled="!formData.id_clase_muestra || !formData.descripcion">Guardar</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
        </div>

        <!-- PERSONALIZACIÓN -->
        <div v-if="mainmode == 6">
            <div style="padding: 2rem;">
                <div class="pure-g">
                    <div class="pure-u-1-1 pure-u-md-1-2">
                        <div class="formSection">
                            <label>Política de recolección (días festivos)</label>
                            <select v-model="personalizacion.politica_recoleccion" class="pure-input-1">
                                <option :value="null" disabled>-- Seleccionar --</option>
                                <option :value="0">1 día antes del festivo</option>
                                <option :value="1">1 día después del festivo</option>
                            </select>
                        </div>
                        <div style="margin-top: 1.5rem;">
                            <button class="pure-button pure-button-primary" @click="savePersonalizacion">
                                Guardar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- UBICACIÓN -->
        <div v-if="mainmode == 7">
            <div style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Ubicaciones</h2>
                    <div class="searchBox">
                        <div class="pure-g" style="align-items: center;">
                            <div class="pure-u-1-1 pure-u-md-12-24">
                                <span v-if="autodeskConnected" style="color: #28a745; font-size: 0.9em;">
                                    &#9679; Conectado a Autodesk
                                </span>
                                <span v-else style="color: #dc3545; font-size: 0.9em;">
                                    &#9679; No conectado a Autodesk
                                </span>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-12-24" style="text-align: right;">
                                <button v-if="!autodeskConnected" @click="connectAutodesk()" style="margin-right: 0.5rem;">
                                    Conectar con Autodesk
                                </button>
                                <button @click="syncFromACC()" :disabled="!autodeskConnected || syncingACC">
                                    {{ syncingACC ? 'Sincronizando...' : 'Sincronizar desde ACC' }}
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable">
                            <thead>
                                <tr>
                                    <th>Descripción</th>
                                    <th style="width: 15%;">Código ACC</th>
                                    <th style="width: 18%;">Fecha Sincronización</th>
                                    <th style="width: 10%;">Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="item in ubicaciones">
                                    <td>{{ item.descripcion }}</td>
                                    <td style="text-align: center; font-size: 0.85em; color: #666;">{{ item.cod_acc }}</td>
                                    <td style="text-align: center;">{{ formatDate(item.fecha_sincronizacion) }}</td>
                                    <td style="text-align: center;">
                                        <button @click="toggleUbicacion(item.id_ubicacion)"
                                            :style="{ backgroundColor: item.is_active == '1' ? '#28a745' : '#ccc', color: '#fff', border: 'none', borderRadius: '4px', padding: '4px 10px', cursor: 'pointer' }">
                                            {{ item.estado }}
                                        </button>
                                    </td>
                                </tr>
                                <tr v-if="ubicaciones.length === 0">
                                    <td colspan="4" style="text-align: center; color: #999; padding: 2rem;">
                                        No hay ubicaciones sincronizadas. Haga clic en "Sincronizar desde ACC" para importar datos.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
        </div>

        <!-- PISOS -->
        <div v-if="mainmode == 8">
            <div style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Pisos</h2>
                    <div class="searchBox">
                        <div class="pure-g" style="align-items: center;">
                            <div class="pure-u-1-1 pure-u-md-12-24">
                                <span v-if="autodeskConnected" style="color: #28a745; font-size: 0.9em;">
                                    &#9679; Conectado a Autodesk
                                </span>
                                <span v-else style="color: #dc3545; font-size: 0.9em;">
                                    &#9679; No conectado a Autodesk
                                </span>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-12-24" style="text-align: right;">
                                <button v-if="!autodeskConnected" @click="connectAutodesk()" style="margin-right: 0.5rem;">
                                    Conectar con Autodesk
                                </button>
                                <button @click="syncFromACC()" :disabled="!autodeskConnected || syncingACC">
                                    {{ syncingACC ? 'Sincronizando...' : 'Sincronizar desde ACC' }}
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable">
                            <thead>
                                <tr>
                                    <th>Número</th>
                                    <th style="width: 15%;">Código ACC</th>
                                    <th style="width: 18%;">Fecha Sincronización</th>
                                    <th style="width: 10%;">Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="item in pisos">
                                    <td>{{ item.numero }}</td>
                                    <td style="text-align: center; font-size: 0.85em; color: #666;">{{ item.cod_acc }}</td>
                                    <td style="text-align: center;">{{ formatDate(item.fecha_sincronizacion) }}</td>
                                    <td style="text-align: center;">
                                        <button @click="togglePiso(item.id_piso)"
                                            :style="{ backgroundColor: item.is_active == '1' ? '#28a745' : '#ccc', color: '#fff', border: 'none', borderRadius: '4px', padding: '4px 10px', cursor: 'pointer' }">
                                            {{ item.estado }}
                                        </button>
                                    </td>
                                </tr>
                                <tr v-if="pisos.length === 0">
                                    <td colspan="4" style="text-align: center; color: #999; padding: 2rem;">
                                        No hay pisos sincronizados. Haga clic en "Sincronizar desde ACC" para importar datos.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
        </div>

        <!-- OBSERVACIONES -->
        <div v-if="mainmode == 9">
            <div v-if="mode == 0" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Observaciones</h2>
                    <div class="searchBox">
                        <div class="pure-g">
                            <div class="pure-u-1-1 pure-u-md-16-24">
                                <input type="text" placeholder="Buscar observación..." v-model="filtroObservaciones.descripcion" @keyup.enter="getObservaciones" />
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24">
                                <div class="imgGraybutton">
                                    <img src="./img/ico/svg/search.svg" @click="getObservaciones" />
                                </div>
                            </div>
                            <div class="pure-u-1-1 pure-u-md-1-24"></div>
                            <div class="pure-u-1-1 pure-u-md-5-24" style="text-align: right;">
                                <button v-on:click="startNew('observaciones')">Nueva Observación</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content">
                        <table class="dataTable">
                            <thead>
                                <tr>
                                    <th>Descripción</th>
                                    <th style="width: 90px; text-align: center;">Defecto</th>
                                    <th style="width: 120px; text-align: center;">Cerrar Muestra</th>
                                    <th style="width: 100px; text-align: center;">Liberación</th>
                                    <th style="width: 100px;">Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="item in observaciones" style="cursor: pointer;">
                                    <td @click="selectItem(item, 'observaciones')">{{ item.descripcion }}</td>
                                    <td style="text-align: center;">
                                        <button @click="toggleAccion(item.id_observacion, item.accion == 1 ? 0 : 1)"
                                            :style="{ backgroundColor: item.accion == 1 ? '#28a745' : '#ccc', color: '#fff', border: 'none', borderRadius: '4px', padding: '4px 10px', cursor: 'pointer' }">
                                            {{ item.accion == 1 ? 'Sí' : 'No' }}
                                        </button>
                                    </td>
                                    <td style="text-align: center;">
                                        <button @click="toggleAccion(item.id_observacion, item.accion == 2 ? 0 : 2)"
                                            :style="{ backgroundColor: item.accion == 2 ? '#28a745' : '#ccc', color: '#fff', border: 'none', borderRadius: '4px', padding: '4px 10px', cursor: 'pointer' }">
                                            {{ item.accion == 2 ? 'Sí' : 'No' }}
                                        </button>
                                    </td>
                                    <td style="text-align: center;">
                                        <button @click="toggleAccion(item.id_observacion, item.accion == 3 ? 0 : 3)"
                                            :style="{ backgroundColor: item.accion == 3 ? '#28a745' : '#ccc', color: '#fff', border: 'none', borderRadius: '4px', padding: '4px 10px', cursor: 'pointer' }">
                                            {{ item.accion == 3 ? 'Sí' : 'No' }}
                                        </button>
                                    </td>
                                    <td style="text-align: center;" @click="selectItem(item, 'observaciones')">{{ item.estado }}</td>
                                </tr>
                                <tr v-if="observaciones.length === 0">
                                    <td colspan="5" style="text-align: center; color: #999; padding: 2rem;">
                                        No hay observaciones registradas.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <div v-if="mode == 1" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Nueva Observación</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Descripción</label>
                            <input type="text" v-model="formData.descripcion" class="pure-input-1" />
                        </div>
                        <div class="pure-u-1-1" style="padding: 0.5rem; text-align: right;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('observaciones')" :disabled="!formData.descripcion">Guardar</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
            <div v-if="mode == 2" style="padding-top: 1em;">
                <div class="pure-u-1-24"></div>
                <div class="pure-u-22-24 menuCard">
                    <h2>Editar Observación</h2>
                    <div class="pure-g" style="padding: 1rem;">
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;">
                            <label>Descripción</label>
                            <input type="text" v-model="formData.descripcion" class="pure-input-1" />
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem;"></div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; margin-top: 1rem;">
                            <button v-if="formData.estado === 'Activo'" @click="reqRemoveItem(formData.id_observacion, 'observaciones')" style="background-color: #dc3545; border-color: #dc3545;">
                                Deshabilitar
                            </button>
                            <button v-else @click="activateItem(formData.id_observacion, 'observaciones')" style="background-color: #28a745; border-color: #28a745;">
                                Activar
                            </button>
                        </div>
                        <div class="pure-u-1-1 pure-u-md-1-2" style="padding: 0.5rem; text-align: right; margin-top: 1rem;">
                            <button @click="setMode(0)">Cancelar</button>
                            <button @click="saveData('observaciones')" :disabled="!formData.descripcion">Guardar</button>
                        </div>
                    </div>
                </div>
                <div class="pure-u-1-24"></div>
            </div>
        </div>
    </div>
</div>
