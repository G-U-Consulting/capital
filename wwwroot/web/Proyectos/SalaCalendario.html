<div style="display: inline;" v-for="(r, i) in ruta.filter(r => r.text)" @click="r.action">
    <span class="hoverLink">{{ r.text }}</span>
    <span v-if="i < ruta.length - 1"> / </span>
</div>

<div v-if="mode == 0" style="padding: 1em">
    <div class="pure-u-1-24 pure-u-md-1-24"></div>
    <div class="pure-u-22-24 pure-u-md-22-24 menuCard" style="height: calc(100vh - 8rem)">
        <h2 style="margin-bottom: .5rem;">{{sala.sala_venta}}</h2>
        <div class='pure-u-1-1 pure-u-md-1-1 formDivision' style="font-size: 1.5em; margin-bottom: 4px;">
            Fecha actual: {{(selDate || (new Date())).toLocaleDateString()}}
        </div>

        <div class="pure-u-1-1 pure-u-md-7-24">
            <div class="btn-view-group">
                <div class="radio-group" style="gap: 1rem; padding-top: 4px;">
                    <input type="radio" name="view" id="view-m6" :checked="viewMode.class == 'm6'"
                        @click="updateViewMode('m6')" />
                    <label for="view-m6" style="margin-bottom: .5rem; text-align: center;"><span>6 meses</span></label>
                    <input type="radio" name="view" id="view-m12" :checked="viewMode.class == 'm12'"
                        @click="updateViewMode('m12')" />
                    <label for="view-m12" style="margin-bottom: .5rem; text-align: center;"><span>12
                            meses</span></label>
                </div>
            </div>
        </div>
        <div class="pure-u-1-1 pure-u-md-1-12"></div>
        <div class="pure-u-1-1 pure-u-md-3-8">
            <div class="btn-view-group">
                <div class="radio-group" style="gap: 1rem; padding-top: 4px;">
                    <button style="margin-bottom: .5rem; padding: 5px .5rem;" @click="openModal">Agregar Hito</button>
                    <button style="margin-bottom: .5rem; padding: 5px .5rem;">Marcar como festivo</button>
                </div>
            </div>
        </div>
        <div class="pure-u-1-1 pure-u-md-1-4" style="text-align: end;">
            <div @click="!isToday() && setToday()" class="cal-btn today"
                :style="isToday() ? 'background-color: #636363;' : ''">Hoy</div>
            <div @click="setDate(-1)" class="cal-btn"
                style="border-top-right-radius: 0; border-bottom-right-radius: 0;">&lt;</div>
            <div @click="setDate(1)" class="cal-btn" style="border-top-left-radius: 0; border-bottom-left-radius: 0;">
                &gt;</div>
        </div>

        <div :class="'calendar pure-u-1-1 pure-u-md-1-1 ' + viewMode.class">
            <div class="cal-month" v-for="i in Array.from({length: viewMode.months}, (_, i) => i + viewMode.initMonth)"
                v-bind:class="{'cal-sel-month': viewMonths[nameMonths[i]].selected}">
                <div class="cal-header">
                    <div class="cal-name-month">
                        <span>{{`${nameMonths[i]} - ${viewMonths[nameMonths[i]].year}`}}</span>
                    </div>
                </div>
                <div class="cal-header">
                    <div class="cal-name-day" v-for="name in nameDays">
                        <span>{{name}}</span>
                    </div>
                </div>
                <div class="cal-matrix">
                    <div class="cal-day" v-for="day in viewMonths[nameMonths[i]].days" v-bind:class="{'cal-today': day.isToday, 'cal-fade-day': !day.currentMonth, 
                            'cal-sel-day': day.isSelected}" @click="day.currentMonth && selDay(day, i)">
                        <span>
                            {{day.monthDay}}
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="modalOverlay" @click="closeModal($event)">
        <div class="modal-content pure-g">
            <div class='pure-u-1-1 pure-u-md-1-1'>
                <h2 style="text-align: center;">{{(selDate || (new Date())).toLocaleDateString()}}</h2>
            </div>
            <div class='pure-u-1-1 pure-u-md-1-1 formInputStandard'>
                <span>Titulo</span>
                <input type='text' maxlength="100" v-model="hito.titulo"/>
            </div>
            <div class='pure-u-1-2 pure-u-md-1-2 formInputStandard'>
                <span>Hora</span>
                <input type='time' v-model="hito.hora"/>
            </div>
            <div class='pure-u-1-2 pure-u-md-1-2 formInputStandard' style="text-align: center;">
                <span>Color</span>
                <input type='color' v-model="hito.color"/>
            </div>
            <div class='pure-u-1-1 pure-u-md-1-1 formInputStandard'>
                <span>Descripci√≥n</span>
                <textarea maxlength="255" v-model="hito.descripcion" style="min-width: 100%; max-width: 100%; min-height: 100px; max-height: 100px;"></textarea>
            </div>
            <div class='pure-u-1-1 pure-u-md-1-3 formInputStandard'></div>
            <div class='pure-u-1-1 pure-u-md-1-3 formInputStandard'>
                <button @click="onSave">Guardar</button>
            </div>
        </div>
    </div>

</div>